# ============================================================================
# Kitty Terminal Configuration
# Matching Ghostty settings + Kitty-exclusive features enabled
# ============================================================================

# Editor
editor nvim

# Theme - Catppuccin Mocha (same as Ghostty)
include themes/Catppuccin-Mocha.conf

# ============================================================================
# FONTS - Monaspace (GitHub's Variable Font Family)
# ============================================================================
# Use `kitten choose-fonts` for interactive font selection with previews
# Use `kitty +list-fonts` to list available fonts
#
# Monaspace has 5 styles:
#   Neon    - Neo-grotesque (like Helvetica) - clean, modern
#   Argon   - Humanist sans - warm, readable
#   Xenon   - Slab serif - distinctive, strong
#   Radon   - Handwriting - perfect for italics/comments
#   Krypton - Mechanical - geometric, technical
#
# Each style has: Regular, SemiWide, Wide widths
# Weight range: ExtraLight, Light, Regular, Medium, SemiBold, Bold, ExtraBold

# Main font: Monaspace Neon (clean, modern look)
# Italic: Monaspace Radon (handwriting style - makes comments stand out!)
font_family      Monaspace Neon
bold_font        Monaspace Neon Bold
italic_font      Monaspace Radon Italic
bold_italic_font Monaspace Radon Bold Italic
font_size        14.0

# ----------------------------------------------------------------------------
# OpenType Font Features (Monaspace)
# ----------------------------------------------------------------------------
# Monaspace supports "Texture Healing" - automatic spacing adjustments
# +calt  = Contextual Alternates (enables Texture Healing + ligatures)
# +liga  = Standard Ligatures (programming ligatures like -> => !=)
# +ss01  = Stylistic Set 1 (ligature variations)
# +ss02  = Stylistic Set 2 (more ligature variations)
# +ss03  = Stylistic Set 3 (coding ligatures)
# +ss04  = Stylistic Set 4 (alternate symbols)
# +ss05  = Stylistic Set 5
# +ss06  = Stylistic Set 6
# +ss07  = Stylistic Set 7
# +ss08  = Stylistic Set 8
# +dlig  = Discretionary Ligatures (extra ligatures)
# +zero  = Slashed zero

font_features MonaspaceNeon-Regular +calt +liga +ss01 +ss02 +ss03 +ss04 +zero
font_features MonaspaceNeon-Bold +calt +liga +ss01 +ss02 +ss03 +ss04 +zero
font_features MonaspaceRadon-Italic +calt +liga +ss01 +ss02 +ss03 +ss04 +zero
font_features MonaspaceRadon-BoldItalic +calt +liga +ss01 +ss02 +ss03 +ss04 +zero

# ----------------------------------------------------------------------------
# Font Rendering Adjustments
# ----------------------------------------------------------------------------
# Underline styling - great for markdown links
modify_font underline_position 2
modify_font underline_thickness 1px

# Strikethrough position - for ~~deleted~~ text
modify_font strikethrough_position 0

# Box drawing - for tables and borders
modify_font box_drawing_scale 0.001, 1, 1.5, 2

# Undercurl style (used by LSP, spell check)
undercurl_style thick-sparse

# Bold text brightness
bold_is_bright yes

# Disable ligatures when cursor is on them (easier editing)
disable_ligatures cursor

# ----------------------------------------------------------------------------
# ALTERNATIVE CONFIGURATIONS
# ----------------------------------------------------------------------------
# Option 1: All Neon (consistent look)
# font_family      Monaspace Neon
# bold_font        Monaspace Neon Bold
# italic_font      Monaspace Neon Italic
# bold_italic_font Monaspace Neon Bold Italic

# Option 2: Argon (warmer, more readable)
# font_family      Monaspace Argon
# bold_font        Monaspace Argon Bold
# italic_font      Monaspace Radon Italic
# bold_italic_font Monaspace Radon Bold Italic

# Option 3: SemiWide for more spacing
# font_family      Monaspace Neon SemiWide
# bold_font        Monaspace Neon SemiWide Bold

# Option 4: JetBrains Mono (previous config)
# font_family      family="JetBrains Mono" variable_name=wght=400
# bold_font        family="JetBrains Mono" variable_name=wght=700

# Option 5: Hack Nerd Font (original Ghostty font)
# font_family      Hack Nerd Font Mono
# bold_font        auto
# italic_font      auto
# bold_italic_font auto

# ============================================================================
# CURSOR - Advanced Effects (Kitty Exclusive)
# ============================================================================
cursor_shape block
cursor_blink_interval 0.5

# Cursor Trail Animation (Kitty 0.37+)
# Shows animated trail when cursor makes large jumps
cursor_trail 3
cursor_trail_decay 0.1 0.4
cursor_trail_start_threshold 2

# ============================================================================
# WINDOW & APPEARANCE
# ============================================================================
# Performance
scrollback_lines 10000

# Window padding (matching Ghostty)
window_padding_width 10

# macOS titlebar
macos_titlebar_color background
macos_show_window_title_in none

# Transparency and blur (matching Ghostty)
background_opacity 0.75
background_blur 20

# Tab bar style
tab_bar_style powerline
tab_powerline_style slanted
tab_bar_edge bottom

# Window layouts (7 built-in layouts)
enabled_layouts tall:bias=50;full_size=1, stack, fat, grid, splits, horizontal, vertical

# ============================================================================
# SHELL INTEGRATION
# ============================================================================
shell_integration enabled

# ============================================================================
# CLIPBOARD & MOUSE
# ============================================================================
clipboard_control write-clipboard write-primary read-clipboard read-primary
strip_trailing_spaces smart
mouse_hide_wait 3.0
focus_follows_mouse yes
copy_on_select clipboard

# ============================================================================
# LINKS & URLs
# ============================================================================
detect_urls yes
open_url_with default

# Underline URLs on hover
url_style curly

# ============================================================================
# REMOTE CONTROL (Kitty Exclusive)
# ============================================================================
# Enable remote control for scripting and automation
allow_remote_control yes
listen_on unix:/tmp/kitty

# ============================================================================
# ADVANCED FEATURES
# ============================================================================
confirm_os_window_close 0

# Bell settings
enable_audio_bell no
visual_bell_duration 0.1

# ============================================================================
# KEYBOARD SHORTCUTS
# ============================================================================

# --- Basic Operations (matching Ghostty) ---
map cmd+k clear_terminal to_cursor active
map cmd+shift+, load_config_file
map shift+enter send_text all \n

# --- Splits (matching Ghostty) ---
map cmd+shift+d launch --location=vsplit --cwd=current
map cmd+d launch --location=hsplit --cwd=current

# --- Split Navigation ---
map cmd+left neighboring_window left
map cmd+right neighboring_window right
map cmd+up neighboring_window up
map cmd+down neighboring_window down

# Vim-style navigation
map ctrl+h neighboring_window left
map ctrl+l neighboring_window right
map ctrl+k neighboring_window up
map ctrl+j neighboring_window down

# --- Tab Management ---
map cmd+t new_tab_with_cwd
map cmd+w close_tab
map cmd+1 goto_tab 1
map cmd+2 goto_tab 2
map cmd+3 goto_tab 3
map cmd+4 goto_tab 4
map cmd+5 goto_tab 5
map cmd+6 goto_tab 6
map cmd+7 goto_tab 7
map cmd+8 goto_tab 8
map cmd+9 goto_tab 9

# --- Font Size ---
map cmd+plus change_font_size all +1.0
map cmd+minus change_font_size all -1.0
map cmd+0 change_font_size all 0

# --- Layout Switching ---
map ctrl+shift+l next_layout

# ============================================================================
# KITTENS - Built-in Tools (Kitty Exclusive)
# ============================================================================

# icat - Display images in terminal
map ctrl+shift+i kitten icat --hold

# Hints - Select and act on text (URLs, paths, words, etc.)
map ctrl+shift+e kitten hints
map ctrl+shift+p>f kitten hints --type path --program -
map ctrl+shift+p>l kitten hints --type line --program -
map ctrl+shift+p>w kitten hints --type word --program @
map ctrl+shift+p>h kitten hints --type hash --program -

# Unicode Input - Insert unicode characters by name/code
map ctrl+shift+u kitten unicode_input

# Diff - Side-by-side diff with syntax highlighting
# Usage: kitty +kitten diff file1 file2
map ctrl+shift+d kitten diff

# Broadcast - Type in all windows simultaneously
map ctrl+shift+b kitten broadcast

# Themes - Preview and switch themes
map ctrl+shift+t kitten themes

# Fonts - Preview and configure fonts (Variable Font support)
map ctrl+shift+f kitten choose-fonts

# Quick Access Terminal - Quake-style dropdown (Kitty 0.42+)
# map f12 kitten quick_access

# ============================================================================
# SSH KITTEN CONFIGURATION
# ============================================================================
# Use `kitten ssh user@host` instead of regular ssh for:
# - Automatic shell integration on remote hosts
# - File transfer support
# - Clipboard sharing over SSH

# SSH configuration file: ~/.config/kitty/ssh.conf

# ============================================================================
# SCROLLBACK INTEGRATION
# ============================================================================

# Open scrollback in nvim
map ctrl+shift+h launch --stdin-source=@screen_scrollback --stdin-add-formatting --type=overlay nvim -c "set buftype=nofile" -

# ============================================================================
# THIRD-PARTY TOOL INTEGRATIONS
# ============================================================================

# --- File Managers with Image Preview ---
# Yazi: brew install yazi
# Ranger: brew install ranger (set preview_images_method kitty in rc.conf)

# --- Image/Video Viewers ---
# timg: brew install timg
#   Usage: timg image.png
#   Video: timg video.mp4
#   Usage in tmux: timg -pk image.png

# icat (built-in):
#   Usage: kitten icat image.png

# --- Video Player ---
# mpv with kitty backend:
#   brew install mpv
#   Usage: mpv --vo=kitty video.mp4
#   High quality: mpv --vo=kitty --vo-kitty-use-shm=yes video.mp4

# --- Web Browser in Terminal ---
# awrit: curl -fsS https://chase.github.io/awrit/get | bash
#   Usage: awrit https://example.com
#   YouTube: awrit youtube.com

# --- Presentations ---
# presenterm: brew install presenterm
#   Usage: presenterm slides.md
#   Supports images, code highlighting, speaker notes

# --- PDF Viewers ---
# termpdf.py: pip install termpdf.py
# fancy-cat: cargo install fancy-cat

# --- System Info with Images ---
# neofetch: brew install neofetch
# onefetch: brew install onefetch (git repo info)

# --- Neovim Image Support ---
# image.nvim: Display images inside Neovim
# snacks.nvim: Modern Neovim plugin with image support

# --- Password Manager ---
# 1Password: kitten @ launch --type=overlay op signin

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================

# GPU rendering
# sync_to_monitor yes

# Input delay (lower = more responsive, higher = less CPU)
input_delay 1

# Repaint delay
repaint_delay 6

# ============================================================================
# END OF CONFIGURATION
# ============================================================================
